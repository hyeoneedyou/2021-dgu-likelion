ì´ì œ Createë¡œ ê°ì²´ë¥¼ ìƒì„±í•´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

# 1. new.html
basic/main/templates/main/new.html
ìƒˆ ê¸€ì„ ì‘ì„±í•˜ëŠ” í…œí”Œë¦¿ ìƒì„±í•©ë‹ˆë‹¤.
```html
{% extend 'base.html' %}
{% load static %}

{% block content %}

<form action="ì…ë ¥ê°’ì„ ë³´ë‚¼ ê³³" method="POST">
    {% csrf_token %}
    <p>ì œëª© : <input type="text" name="title"></p>
    <p>ì‘ì„±ì : <input type="text" name="writer"></p>
    <p>ë‚´ìš© : <textarea type="text" name="body" id="" cols="30" rows="10"></textarea></p>
    <button type="submit">ì œì¶œ</button>
</form>

{% endblock %}
```
`{% csrf_token %}`ëŠ” ì•ì—ì„œ ë§í–ˆë“¯ì´ POSTë°©ì‹ì´ê¸° ë•Œë¬¸ì— ê°’ì´ ë§¤ë²ˆ ë³€ê²½ë˜ëŠ” í† í°ì„ ë°œê¸‰í•˜ì—¬ CSRF ê³µê²©ì„ ë°©ì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# 2. views.py
```python
def new(request):
    return render(request, 'main/new.html')
```
# 3. urls.py
```python
urlpatterns = [
    path('admin/', admin.site.urls),
    path('', views.showmain, name="showmain"),
    path('first/', views.first, name="first"),
    path('second/', views.second, name="second"),
    path('<str:id>', views.detail, name="detail"),
    path('new/', views.new, name="new"),
]
```

# 4. mainpage.html

```html
{% extends 'base.html' %}
{% load static %}

{% block content %}
    <h1>2021 Dongguk Likelion 3rd session</h1>
    <a href="{% url 'first' %}">first</a>
    <a href="{% url 'second' %}">second</a>
    <img src="{% static 'images/image01.jpg' %}">

<h2><a href="{% url 'new' %}">ê¸€ì“°ê¸°</a></h2> <!-- ê¸€ì“°ê¸° ë§í¬ ìƒì„± -->

<h1>ê¸€ ëª©ë¡</h1>
<div>
    {% for blog in blogs %}
    <div>
        <h3>
            {{blog.title}} <br>
            {{blog.writer}}<br>
            {{blog.summary}}
            <a href="{% url 'detail' blog.id %}">...ìì„¸íˆ</a>
        </h3>
    </div>
    {% endfor %}
</div>

{% endblock %}
```

# 5. Views.py
```python
from django.shortcuts import get_object_or_404, render, redirect # import redirect
from .models import Blog
from django.utils import timezone # import timezone

def create(request):
    new_blog = Blog() # Blogëª¨ë¸ì„ ì´ìš©í•˜ì—¬ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  new_blogë¼ëŠ” ë³€ìˆ˜ì— ë‹´ëŠ”ë‹¤.
    new_blog.title = request.POST['title'] # nameì´ titleì¸ ê°’ì„ new_blogì˜ writer ì†ì„±ì— ë‹´ëŠ”ë‹¤.
    new_blog.writer = request.POST['writer'] # nameì´ writerì¸ ê°’ì„ new_blogì˜ writer ì†ì„±ì— ë‹´ëŠ”ë‹¤.
    new_blog.pub_date = timezone.now() # í˜„ì¬ ì‹œê°„ì€ new_blogì˜ pub_date ì†ì„±ì— ë‹´ëŠ”ë‹¤.
    new_blog.body = request.POST['body'] # nameì´ bodyì¸ ê°’ì„ new_blogì˜ body ì†ì„±ì— ë‹´ëŠ”ë‹¤.
    new_blog.save() # new_blog ê°ì²´ë¥¼ ì €ì¥í•œë‹¤.
    return redirect('detail', new_blog.id) # detail í•¨ìˆ˜ë¡œ redirect, new_blogì˜ idê°’ë„ í•¨ê»˜ ë„˜ê²¨ì¤€ë‹¤.
```
ë§Œë“¤ì—ˆë˜ `Blog`ëª¨ë¸ë¡œ ê°ì²´ë¡¤ ìƒì„±í•˜ê³ , ì†ì„±ì— ê°’ì„ ë„£ì–´ì¤€ í›„ì— ì €ì¥í•©ë‹ˆë‹¤. ì´ë•Œ `request.POST['title']`ì— ë“¤ì–´ê°€ëŠ” `title`ì€ new.htmlì˜ inputíƒœê·¸ì— ìˆë˜ name ì†ì„± ê°’ì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  `detail` ì´ë¼ëŠ” ì´ë¦„ì˜ URLë¡œ redirectí•©ë‹ˆë‹¤. ìƒì„¸ í˜ì´ì§€í•  ë•Œ ì´ì•¼ê¸°í–ˆë“¯ì´, `id`ë¥¼ URLë¡œ í•¨ê»˜ ë³´ë‚´ì£¼ì–´ì•¼ `detail`í•¨ìˆ˜ì—ì„œ `id`ì— í•´ë‹¹í•˜ëŠ” ê°ì²´ë¥¼ ë„ì›Œì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸ’¡ render vs redirect

`render`ëŠ” templateì„ ë¶ˆëŸ¬ì˜¤ê³ , `redirect`ëŠ” URLë¡œ ì´ë™í•©ë‹ˆë‹¤.

# 6. new.html
```html
{% extends 'base.html' %}
{% load static %}

{% block content %}

<form action="{% url 'create' %}" method="POST">
    {% csrf_token %}
    <p>ì œëª© : <input type="text" name="title"></p>
    <p>ì‘ì„±ì : <input type="text" name="writer"></p>
    <p>ë‚´ìš© : <textarea type="text" name="body" id="" cols="30" rows="10"></textarea></p>
    <button type="submit">ì œì¶œ</button>
</form>

{% endblock %}
```
formì˜ action, ì…ë ¥ê°’ì„ ë³´ë‚¼ ê³³ì„ `create`ë¡œ ì§€ì •í•´ì¤ë‹ˆë‹¤.


ê¸€ì„ ì‘ì„±í•˜ê³ ë‚˜ë©´ í•´ë‹¹ ê¸€ì˜ ìƒì„¸ë³´ê¸° í˜ì´ì§€ë¡œ ì´ë™í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

CREATE ì™„ë£Œ!
